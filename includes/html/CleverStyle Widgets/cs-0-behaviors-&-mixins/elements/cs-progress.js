// Generated by LiveScript 1.4.0
/**
 * @package   CleverStyle Widgets
 * @author    Nazar Mokrynskyi <nazar@mokrynskyi.com>
 * @copyright Copyright (c) 2015-2016, Nazar Mokrynskyi
 * @license   MIT License, see license.txt
 */
(function(){
  Polymer.cs.behaviors.csProgress = [
    Polymer.cs.behaviors.tight, Polymer.cs.behaviors.tooltip, {
      properties: {
        infinite: Boolean,
        textProgress: Boolean
      },
      created: function(){
        if (!this.getAttribute('max')) {
          this.max = 100;
        }
        if (this.value) {
          this.setAttribute('value', this.value);
        }
      },
      attached: function(){
        var update_progress, this$ = this;
        if (this.infinite) {
          update_progress = function(){
            if (!this$.parentNode) {
              return;
            }
            this$.value = (this$.value + 9) % 100;
            setTimeout(update_progress, 200);
          };
          update_progress();
        }
      },
      attributeChanged: function(name){
        if (name === 'value' && this.textProgress) {
          this.setAttribute('text', this[name] + '%');
        }
      }
    }
  ];
}).call(this);
